<!DOCTYPE html>

<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

        <title>nullDC</title>
        <link rel="shortcut icon" href="favicon.ico">
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>

    <body>
        <!-- Navigation Bar -->
        <ul>
            <li><a class="active">Home</a></li>
            <br>
            <li><a href="compatibility/index.html">Compatibility List</a></li>
        </ul>
        
        <div class="content">
            
            <center>
                <img src="logo.png">
                <h2 style="margin-top: 2px">Dreamcast emulator for the PlayStation Portable </h2>
            </center>

                <p class="paragraph">
                    nullDC is a Dreamcast emulator for PSP, currently in an experimental stage.
                    The emulator was originally developed in 2008. The source code was lost for
					many years; it was published on GitHub in the mid-2010s, and finally compiled
					in this current version in 2021.
                </p>
            
                <br>

                <center id="verinfo">
                    <h3>The origins: nullDC in 2008.</h3>
                    <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/DVeDWoP5U1s" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </center>

                <!-- <center> -->
                    <!-- <a href="https://github.com/DaedalusX64/daedalus/releases/latest"><img width="30%" src="tempbutton.png"/></a> -->
                <!-- </center> -->

                <!-- Use GitHub API to retrieve latest version number, create H3 tag for it -->
                <script>
                    // Send GET request to try and obtain the JSON
                    var request = new XMLHttpRequest();
                    request.open('GET', 'https://api.github.com/repos/DaedalusX64/daedalus/releases/latest', true);
                    request.send(null);

                    // Verify we got it
                    request.onreadystatechange = function () {
                        if (request.readyState === 4 && request.status === 200) {
                            var type = request.getResponseHeader('Content-Type');
                            if (type.indexOf("text") !== 1) {
                                var json = JSON.parse(request.responseText);

                                // Send version number
                                appendPage(json.tag_name);
                            }
                        }
                        //FIXME - this failsafe.. FAILS!
                        /* else { // We don't got it?!
                            // Send (clearly broken) version number
                            appendPage("ERR: Couldn't retrieve version number!");
                        }*/
                    }

                    // Messy messy but let's keep it anyway..
                    // All we do here is add the version number and the GitHub link to the page
                    function appendPage(versionNumber) {
                        var para = document.createElement("h3");
                        var node = document.createTextNode("The latest version of DaedalusX64, " + versionNumber + ", can be downloaded here:");
                        para.appendChild(node);
                        var element = document.getElementById("verinfo");
                        element.appendChild(para);
                    }
                    
                </script>
            
        </div>
    </body>
</html>